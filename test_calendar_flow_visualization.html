<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test_calendar_flow.py ì—°ê²° êµ¬ì¡° ì‹œê°í™”</title>
    <script src="https://cdn.jsdelivr.net/npm/vis-network@9.1.2/dist/vis-network.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #667eea;
        }
        .section h2 {
            color: #333;
            margin-top: 0;
            font-size: 1.8em;
        }
        .section h3 {
            color: #555;
            margin-top: 25px;
            font-size: 1.4em;
        }
        .flow-diagram {
            height: 600px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin: 20px 0;
            background: white;
        }
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .import-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .import-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .import-item h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .import-item ul {
            margin: 0;
            padding-left: 20px;
        }
        .import-item li {
            margin: 5px 0;
            color: #666;
        }
        .test-functions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .test-function {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .test-function h4 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 1.3em;
        }
        .test-function p {
            margin: 10px 0;
            color: #666;
            line-height: 1.6;
        }
        .flow-steps {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .flow-steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .flow-steps li {
            margin: 8px 0;
            color: #555;
        }
        .api-section {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .api-section h3 {
            margin-top: 0;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š test_calendar_flow.py ì—°ê²° êµ¬ì¡° ì‹œê°í™”</h1>
            <p>ìº˜ë¦°ë” í”Œë¡œìš° í…ŒìŠ¤íŠ¸ íŒŒì¼ì˜ ëª¨ë“ˆ ì—°ê²° ê´€ê³„ ë° ë°ì´í„° íë¦„ ë¶„ì„</p>
        </div>
        
        <div class="content">
            <!-- 1. ì „ì²´ êµ¬ì¡° ê°œìš” -->
            <div class="section">
                <h2>ğŸ¯ ì „ì²´ êµ¬ì¡° ê°œìš”</h2>
                <p>ì´ í…ŒìŠ¤íŠ¸ íŒŒì¼ì€ ìº˜ë¦°ë” ê´€ë ¨ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¢…í•©ì ì¸ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” êµ¬ì„± ìš”ì†Œë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤:</p>
                
                <div class="test-functions">
                    <div class="test-function">
                        <h4>ğŸ¤– test_agent_task_flow()</h4>
                        <p>Agent Task CRUD ì‘ì—…ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” í•¨ìˆ˜</p>
                        <div class="flow-steps">
                            <ol>
                                <li>Agent Task ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ í…ŒìŠ¤íŠ¸</li>
                                <li>answer_generator ì§ì ‘ í˜¸ì¶œ</li>
                                <li>API ìš”ì²­ ê²°ê³¼ ê²€ì¦</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="test-function">
                        <h4>ğŸ“… test_calendar_flow()</h4>
                        <p>í‘œì¤€ ìº˜ë¦°ë” í”Œë¡œìš°ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” í•¨ìˆ˜</p>
                        <div class="flow-steps">
                            <ol>
                                <li>task_router â†’ calendar_agent â†’ answer_planner â†’ answer_generator</li>
                                <li>ë‹¤ì–‘í•œ ì¼ì • ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸</li>
                                <li>í”Œë¡œìš° ê²€ì¦ ë° ì„±ëŠ¥ ì¸¡ì •</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="test-function">
                        <h4>ğŸ’¬ test_interactive_calendar_flow()</h4>
                        <p>ëŒ€í™”í˜• ìº˜ë¦°ë” í”Œë¡œìš° í…ŒìŠ¤íŠ¸</p>
                        <div class="flow-steps">
                            <ol>
                                <li>ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°</li>
                                <li>ì‹¤ì‹œê°„ í”Œë¡œìš° ì‹¤í–‰</li>
                                <li>ë‹¨ê³„ë³„ ê²°ê³¼ ì¶œë ¥</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="test-function">
                        <h4>ğŸ”— test_direct_api_calls()</h4>
                        <p>ì§ì ‘ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸</p>
                        <div class="flow-steps">
                            <ol>
                                <li>ì´ë²¤íŠ¸ ìƒì„±/ì‚­ì œ í…ŒìŠ¤íŠ¸</li>
                                <li>í• ì¼ ìƒì„±/ì‚­ì œ í…ŒìŠ¤íŠ¸</li>
                                <li>ì „ì²´ ì¡°íšŒ í…ŒìŠ¤íŠ¸</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. ëª¨ë“ˆ ì—°ê²° ê´€ê³„ -->
            <div class="section">
                <h2>ğŸ”— ëª¨ë“ˆ ì—°ê²° ê´€ê³„</h2>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #667eea;"></div>
                        <span>Routers (ë¼ìš°íŒ… ë¡œì§)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #764ba2;"></div>
                        <span>Agents (ì—ì´ì „íŠ¸ ë¡œì§)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f093fb;"></div>
                        <span>Models (ë°ì´í„° ëª¨ë¸)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff6b6b;"></div>
                        <span>External APIs (ì™¸ë¶€ API)</span>
                    </div>
                </div>

                <div class="flow-diagram" id="moduleNetwork"></div>
            </div>

            <!-- 3. Import ëª¨ë“ˆ ëª©ë¡ -->
            <div class="section">
                <h2>ğŸ“¦ Import ëª¨ë“ˆ ëª©ë¡</h2>
                
                <div class="import-list">
                    <div class="import-item">
                        <h4>ğŸ”§ Standard Library</h4>
                        <ul>
                            <li>sys - ì‹œìŠ¤í…œ ê²½ë¡œ ì„¤ì •</li>
                            <li>os - ìš´ì˜ì²´ì œ ì¸í„°í˜ì´ìŠ¤</li>
                            <li>json - JSON ë°ì´í„° ì²˜ë¦¬</li>
                            <li>time - ì‹œê°„ ì¸¡ì •</li>
                            <li>datetime - ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬</li>
                            <li>traceback - ì˜¤ë¥˜ ì¶”ì </li>
                            <li>asyncio - ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°</li>
                        </ul>
                    </div>
                    
                    <div class="import-item">
                        <h4>ğŸ¯ Routers</h4>
                        <ul>
                            <li>task_router - ì‘ì—… ë¼ìš°íŒ…</li>
                            <li>query_refiner - ì¿¼ë¦¬ ì •ì œ</li>
                            <li>rag_quality_critic - RAG í’ˆì§ˆ í‰ê°€</li>
                            <li>calendar_needed - ìº˜ë¦°ë” í•„ìš”ì„± íŒë‹¨</li>
                            <li>websearch_critic - ì›¹ê²€ìƒ‰ í•„ìš”ì„± íŒë‹¨</li>
                        </ul>
                    </div>
                    
                    <div class="import-item">
                        <h4>ğŸ¤– Agents</h4>
                        <ul>
                            <li>calendar_agent - ìº˜ë¦°ë” ì²˜ë¦¬</li>
                            <li>answer_planner - ë‹µë³€ ê³„íš</li>
                            <li>answer_generator - ë‹µë³€ ìƒì„±</li>
                            <li>calselector - ìº˜ë¦°ë” ì„ íƒ</li>
                            <li>rag_retriever - RAG ê²€ìƒ‰</li>
                            <li>websearch_agent - ì›¹ê²€ìƒ‰</li>
                        </ul>
                    </div>
                    
                    <div class="import-item">
                        <h4>ğŸ“Š Models</h4>
                        <ul>
                            <li>AgentState - ì—ì´ì „íŠ¸ ìƒíƒœ ëª¨ë¸</li>
                        </ul>
                    </div>
                    
                    <div class="import-item">
                        <h4>ğŸŒ External Libraries</h4>
                        <ul>
                            <li>httpx - HTTP í´ë¼ì´ì–¸íŠ¸ (ë¹„ë™ê¸°)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 4. ë°ì´í„° í”Œë¡œìš° -->
            <div class="section">
                <h2>ğŸ”„ ë°ì´í„° í”Œë¡œìš°</h2>
                
                <h3>ğŸ“… í‘œì¤€ ìº˜ë¦°ë” í”Œë¡œìš°</h3>
                <div class="code-block">
1. task_router (ì…ë ¥ ë¶„ì„ ë° ë¼ìš°íŒ…)
   â†“
2. calendar_agent (ìº˜ë¦°ë” ì‘ì—… ì²˜ë¦¬)
   â†“
3. answer_planner (ë‹µë³€ ê³„íš ìˆ˜ë¦½)
   â†“
4. answer_generator (ìµœì¢… ë‹µë³€ ìƒì„± + API í˜¸ì¶œ)
                </div>

                <h3>ğŸ” í™•ì¥ í”Œë¡œìš° (ì¡°ê±´ë¶€)</h3>
                <div class="code-block">
1. task_router
   â†“
2. query_refiner (ì¿¼ë¦¬ ì •ì œ)
   â†“
3. rag_retriever (RAG ê²€ìƒ‰)
   â†“
4. rag_quality_critic (í’ˆì§ˆ í‰ê°€)
   â†“
5. calendar_needed (ìº˜ë¦°ë” í•„ìš”ì„± íŒë‹¨)
   â†“
6. calendar_agent (ìº˜ë¦°ë” ì²˜ë¦¬)
   â†“
7. answer_planner
   â†“
8. answer_generator
                </div>

                <h3>ğŸŒ ì›¹ê²€ìƒ‰ í”Œë¡œìš°</h3>
                <div class="code-block">
1. task_router
   â†“
2. websearch_critic (ì›¹ê²€ìƒ‰ í•„ìš”ì„± íŒë‹¨)
   â†“
3. websearch_agent (ì›¹ê²€ìƒ‰ ì‹¤í–‰)
   â†“
4. answer_planner
   â†“
5. answer_generator
                </div>
            </div>

            <!-- 5. API ì—°ê²° -->
            <div class="api-section">
                <h3>ğŸ”— ì™¸ë¶€ API ì—°ê²°</h3>
                <p><strong>Base URL:</strong> http://52.79.95.55:8000</p>
                <p><strong>Authentication:</strong> Bearer Token</p>
                
                <h4>ğŸ“… ìº˜ë¦°ë” API ì—”ë“œí¬ì¸íŠ¸</h4>
                <ul>
                    <li>POST /api/v1/calendar/events - ì´ë²¤íŠ¸ ìƒì„±</li>
                    <li>DELETE /api/v1/calendar/events/{id} - ì´ë²¤íŠ¸ ì‚­ì œ</li>
                    <li>GET /api/v1/calendar/{user_id}/all - ì „ì²´ ì¡°íšŒ</li>
                </ul>
                
                <h4>ğŸ“‹ Agent Task API ì—”ë“œí¬ì¸íŠ¸</h4>
                <ul>
                    <li>POST /api/v1/agent/tasks - í• ì¼ ìƒì„±</li>
                    <li>DELETE /api/v1/agent/tasks/{id} - í• ì¼ ì‚­ì œ</li>
                </ul>
            </div>

            <!-- 6. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ -->
            <div class="section">
                <h2>ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤</h2>
                
                <h3>ğŸ“… ì¼ì • ë“±ë¡ ì‹œë‚˜ë¦¬ì˜¤ (15ê°œ)</h3>
                <div class="code-block">
â€¢ ì •í™•í•œ ì‹œê°„ ì¼ì • ìƒì„± (ë¶„ ë‹¨ìœ„)
â€¢ ëŠ¦ì€ ë°¤ ì¼ì • ìƒì„±
â€¢ ì¥ê¸° í”„ë¡œì íŠ¸ ì¼ì •
â€¢ ë°˜ë³µ ì¼ì • ìƒì„±
â€¢ ê¸´ê¸‰ ì˜ë£Œ ì¼ì •
â€¢ í•™ì—… ê´€ë ¨ í• ì¼
â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ… (ì‹œê°„ëŒ€ ê³ ë ¤)
â€¢ íŠ¹ë³„í•œ ì´ë²¤íŠ¸
â€¢ ìš´ë™ ì¼ì •
â€¢ ì‹ì‚¬ ì¼ì •
â€¢ ì—¬í–‰ ì¼ì •
â€¢ ë¬¸í™”ìƒí™œ
â€¢ ì§‘ì•ˆì¼
â€¢ ë…ì„œ ì‹œê°„
â€¢ ìŒì•… ì—°ìŠµ
                </div>

                <h3>ğŸ¤– Agent Task CRUD ì‹œë‚˜ë¦¬ì˜¤ (5ê°œ)</h3>
                <div class="code-block">
â€¢ ì—ì´ì „íŠ¸ íƒœìŠ¤í¬ ìƒì„±
â€¢ ì—ì´ì „íŠ¸ íƒœìŠ¤í¬ ì¡°íšŒ
â€¢ ì—ì´ì „íŠ¸ íƒœìŠ¤í¬ ìˆ˜ì •
â€¢ ì—ì´ì „íŠ¸ íƒœìŠ¤í¬ ì‚­ì œ
â€¢ ë³µì¡í•œ ì—ì´ì „íŠ¸ íƒœìŠ¤í¬ ìƒì„±
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë„¤íŠ¸ì›Œí¬ ì‹œê°í™”
        function createNetwork() {
            const container = document.getElementById('moduleNetwork');
            
            // ë…¸ë“œ ì •ì˜
            const nodes = new vis.DataSet([
                // ë©”ì¸ í…ŒìŠ¤íŠ¸ íŒŒì¼
                { id: 'test_file', label: 'test_calendar_flow.py', group: 'test', shape: 'box', size: 30, font: { size: 16, bold: true } },
                
                // Routers
                { id: 'task_router', label: 'task_router', group: 'router', shape: 'diamond', size: 25 },
                { id: 'query_refiner', label: 'query_refiner', group: 'router', shape: 'diamond', size: 20 },
                { id: 'rag_quality_critic', label: 'rag_quality_critic', group: 'router', shape: 'diamond', size: 20 },
                { id: 'calendar_needed', label: 'calendar_needed', group: 'router', shape: 'diamond', size: 20 },
                { id: 'websearch_critic', label: 'websearch_critic', group: 'router', shape: 'diamond', size: 20 },
                
                // Agents
                { id: 'calendar_agent', label: 'calendar_agent', group: 'agent', shape: 'circle', size: 25 },
                { id: 'answer_planner', label: 'answer_planner', group: 'agent', shape: 'circle', size: 25 },
                { id: 'answer_generator', label: 'answer_generator', group: 'agent', shape: 'circle', size: 30 },
                { id: 'calselector', label: 'calselector', group: 'agent', shape: 'circle', size: 20 },
                { id: 'rag_retriever', label: 'rag_retriever', group: 'agent', shape: 'circle', size: 20 },
                { id: 'websearch_agent', label: 'websearch_agent', group: 'agent', shape: 'circle', size: 20 },
                
                // Models
                { id: 'agent_state', label: 'AgentState', group: 'model', shape: 'box', size: 20 },
                
                // External APIs
                { id: 'calendar_api', label: 'Calendar API', group: 'api', shape: 'database', size: 25 },
                { id: 'task_api', label: 'Task API', group: 'api', shape: 'database', size: 25 },
                
                // Test Functions
                { id: 'test_agent_task', label: 'test_agent_task_flow()', group: 'test_func', shape: 'box', size: 20 },
                { id: 'test_calendar', label: 'test_calendar_flow()', group: 'test_func', shape: 'box', size: 20 },
                { id: 'test_interactive', label: 'test_interactive_calendar_flow()', group: 'test_func', shape: 'box', size: 20 },
                { id: 'test_direct_api', label: 'test_direct_api_calls()', group: 'test_func', shape: 'box', size: 20 }
            ]);
            
            // ì—£ì§€ ì •ì˜
            const edges = new vis.DataSet([
                // í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ê° ëª¨ë“ˆë¡œì˜ ì—°ê²°
                { from: 'test_file', to: 'task_router', arrows: 'to', color: { color: '#667eea' } },
                { from: 'test_file', to: 'calendar_agent', arrows: 'to', color: { color: '#764ba2' } },
                { from: 'test_file', to: 'answer_planner', arrows: 'to', color: { color: '#764ba2' } },
                { from: 'test_file', to: 'answer_generator', arrows: 'to', color: { color: '#764ba2' } },
                { from: 'test_file', to: 'calselector', arrows: 'to', color: { color: '#764ba2' } },
                { from: 'test_file', to: 'agent_state', arrows: 'to', color: { color: '#f093fb' } },
                
                // ì¡°ê±´ë¶€ import ì—°ê²°
                { from: 'test_file', to: 'query_refiner', arrows: 'to', color: { color: '#667eea', dashes: true } },
                { from: 'test_file', to: 'rag_retriever', arrows: 'to', color: { color: '#764ba2', dashes: true } },
                { from: 'test_file', to: 'rag_quality_critic', arrows: 'to', color: { color: '#667eea', dashes: true } },
                { from: 'test_file', to: 'calendar_needed', arrows: 'to', color: { color: '#667eea', dashes: true } },
                { from: 'test_file', to: 'websearch_agent', arrows: 'to', color: { color: '#764ba2', dashes: true } },
                { from: 'test_file', to: 'websearch_critic', arrows: 'to', color: { color: '#667eea', dashes: true } },
                
                // í‘œì¤€ í”Œë¡œìš°
                { from: 'task_router', to: 'calendar_agent', arrows: 'to', color: { color: '#28a745' } },
                { from: 'calendar_agent', to: 'answer_planner', arrows: 'to', color: { color: '#28a745' } },
                { from: 'answer_planner', to: 'answer_generator', arrows: 'to', color: { color: '#28a745' } },
                
                // í™•ì¥ í”Œë¡œìš°
                { from: 'task_router', to: 'query_refiner', arrows: 'to', color: { color: '#ffc107' } },
                { from: 'query_refiner', to: 'rag_retriever', arrows: 'to', color: { color: '#ffc107' } },
                { from: 'rag_retriever', to: 'rag_quality_critic', arrows: 'to', color: { color: '#ffc107' } },
                { from: 'rag_quality_critic', to: 'calendar_needed', arrows: 'to', color: { color: '#ffc107' } },
                { from: 'calendar_needed', to: 'calendar_agent', arrows: 'to', color: { color: '#ffc107' } },
                
                // ì›¹ê²€ìƒ‰ í”Œë¡œìš°
                { from: 'task_router', to: 'websearch_critic', arrows: 'to', color: { color: '#dc3545' } },
                { from: 'websearch_critic', to: 'websearch_agent', arrows: 'to', color: { color: '#dc3545' } },
                { from: 'websearch_agent', to: 'answer_planner', arrows: 'to', color: { color: '#dc3545' } },
                
                // API ì—°ê²°
                { from: 'answer_generator', to: 'calendar_api', arrows: 'to', color: { color: '#ff6b6b' } },
                { from: 'answer_generator', to: 'task_api', arrows: 'to', color: { color: '#ff6b6b' } },
                
                // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ì—°ê²°
                { from: 'test_agent_task', to: 'answer_generator', arrows: 'to', color: { color: '#6f42c1' } },
                { from: 'test_calendar', to: 'task_router', arrows: 'to', color: { color: '#6f42c1' } },
                { from: 'test_interactive', to: 'task_router', arrows: 'to', color: { color: '#6f42c1' } },
                { from: 'test_direct_api', to: 'calendar_api', arrows: 'to', color: { color: '#6f42c1' } },
                { from: 'test_direct_api', to: 'task_api', arrows: 'to', color: { color: '#6f42c1' } }
            ]);
            
            // ë„¤íŠ¸ì›Œí¬ ì˜µì…˜
            const options = {
                nodes: {
                    borderWidth: 2,
                    shadow: true,
                    font: {
                        size: 14,
                        face: 'Arial'
                    }
                },
                edges: {
                    width: 2,
                    shadow: true,
                    smooth: {
                        type: 'continuous'
                    }
                },
                groups: {
                    test: { color: { background: '#e3f2fd', border: '#2196f3' } },
                    router: { color: { background: '#e8f5e8', border: '#4caf50' } },
                    agent: { color: { background: '#fff3e0', border: '#ff9800' } },
                    model: { color: { background: '#f3e5f5', border: '#9c27b0' } },
                    api: { color: { background: '#ffebee', border: '#f44336' } },
                    test_func: { color: { background: '#f1f8e9', border: '#8bc34a' } }
                },
                physics: {
                    stabilization: false,
                    barnesHut: {
                        gravitationalConstant: -80000,
                        springConstant: 0.001,
                        springLength: 200
                    }
                },
                layout: {
                    hierarchical: {
                        direction: 'UD',
                        sortMethod: 'directed'
                    }
                }
            };
            
            // ë„¤íŠ¸ì›Œí¬ ìƒì„±
            const network = new vis.Network(container, { nodes, edges }, options);
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            network.on('click', function(params) {
                if (params.nodes.length > 0) {
                    const nodeId = params.nodes[0];
                    const node = nodes.get(nodeId);
                    console.log('Clicked node:', node);
                }
            });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë„¤íŠ¸ì›Œí¬ ìƒì„±
        document.addEventListener('DOMContentLoaded', createNetwork);
    </script>
</body>
</html> 